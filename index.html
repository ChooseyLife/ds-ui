<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>简介 | ds-ui</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="ds-ui">
    
    <link rel="preload" href="/ds-ui/assets/css/0.styles.e458b977.css" as="style"><link rel="preload" href="/ds-ui/assets/js/app.0c7c3d88.js" as="script"><link rel="preload" href="/ds-ui/assets/js/2.3c2e6582.js" as="script"><link rel="preload" href="/ds-ui/assets/js/7.f1e2ad01.js" as="script"><link rel="prefetch" href="/ds-ui/assets/js/10.ecb90228.js"><link rel="prefetch" href="/ds-ui/assets/js/11.c8567351.js"><link rel="prefetch" href="/ds-ui/assets/js/12.175c9fe2.js"><link rel="prefetch" href="/ds-ui/assets/js/13.59357f0d.js"><link rel="prefetch" href="/ds-ui/assets/js/14.643c4666.js"><link rel="prefetch" href="/ds-ui/assets/js/15.d213f03e.js"><link rel="prefetch" href="/ds-ui/assets/js/16.48f27ff8.js"><link rel="prefetch" href="/ds-ui/assets/js/3.1b34c2ec.js"><link rel="prefetch" href="/ds-ui/assets/js/4.11957e18.js"><link rel="prefetch" href="/ds-ui/assets/js/5.048c6337.js"><link rel="prefetch" href="/ds-ui/assets/js/6.29f38f88.js"><link rel="prefetch" href="/ds-ui/assets/js/8.6260c209.js"><link rel="prefetch" href="/ds-ui/assets/js/9.2a35fa20.js">
    <link rel="stylesheet" href="/ds-ui/assets/css/0.styles.e458b977.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ds-ui/" aria-current="page" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">ds-ui</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ds-ui/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  主页
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ds-ui/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  主页
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ds-ui/dialog.html" class="sidebar-link">Dialog 对话框</a></li><li><a href="/ds-ui/form.html" class="sidebar-link">Form 表单</a></li><li><a href="/ds-ui/input.html" class="sidebar-link">Input 输入框</a></li><li><a href="/ds-ui/layout.html" class="sidebar-link">Layout 布局</a></li><li><a href="/ds-ui/select.html" class="sidebar-link">Select 选择器</a></li><li><a href="/ds-ui/table.html" class="sidebar-link">Table 表格</a></li><li><a href="/ds-ui/title.html" class="sidebar-link">Title 标题</a></li><li><a href="/ds-ui/toolbar.html" class="sidebar-link">Toolbar 工具栏</a></li><li><a href="/ds-ui/tree.html" class="sidebar-link">Tree</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h1> <p>一个基于element-ui二次封装，可配置化的UI组件库</p> <p>基于组件配置化，使得页面动态渲染，<code>low code</code> 低代码平台成为了可能</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p>Step 1：首先安装element依赖</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i element-ui <span class="token parameter variable">-S</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">'small'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Step2: 安装组件库</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> i @ds/ds-ui <span class="token parameter variable">-S</span> <span class="token parameter variable">--registry</span> http://134.175.32.201:8081/repository/npm-group/
</code></pre></div><div class="language-diff extra-class"><pre class="language-diff"><code>// main.js
import ElementUI from 'element-ui';
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import dsUI from '@ds/ds-ui';
</span></span>import 'element-ui/lib/theme-chalk/index.css';
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import '@ds/ds-ui/lib/ds-ui.css';
</span></span>
Vue.use(ElementUI, { size: 'small' });
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> Vue.use(dsUI, {/*override default*/});
</span></span></code></pre></div><h2 id="目录结构"><a href="#目录结构" class="header-anchor">#</a> 目录结构</h2> <div class="language-json extra-class"><pre class="language-json"><code>.
├── README.md                    <span class="token comment">// 项目文档</span>
├── babel.config.js              <span class="token comment">// babel配置</span>
├── docs                         <span class="token comment">// 组件文档</span>
├── examples                     <span class="token comment">// 调试页面</span>
│   ├── App.vue                  <span class="token comment">// 调试页面根组件</span>
│   ├── assets                   <span class="token comment">// 调试页面静态资源</span>
│   └── main.js                  <span class="token comment">// 调试页面入口</span>
├── package.json                 <span class="token comment">// 不解释</span>
├── packages                     <span class="token comment">// 组件库</span>
│   └── test                     <span class="token comment">// 组件</span>
│       ├── index.js             <span class="token comment">// 组件暴露接口</span>
│       └── test.vue             <span class="token comment">// 组件核心代码</span>
├── public                       <span class="token comment">// 静态资源都会被简单的复制到编译后的目录中，而不经过构建处理</span>
│   ├── favicon.ico              <span class="token comment">// 引入 public 中的资源永远应该使用根绝对路径（/favicon.ico）</span>
│   └── index.html               <span class="token comment">// 入口html</span>
├── scripts                      <span class="token comment">// 自定义脚本</span>
│   └── newComponent.js          <span class="token comment">// 一键生成组件模板文件</span>
├── src                          <span class="token comment">// 公共部分</span>
│   ├── assets                   <span class="token comment">// 静态资源</span>
│   │   └── images               <span class="token comment">// 图片</span>
│   ├── index.js                 <span class="token comment">// 组件库入口</span>
│   ├── styles                   <span class="token comment">// 样式</span>
│   │   ├── common.less          <span class="token comment">// 通用样式</span>
│   │   ├── index.less           <span class="token comment">// 样式入口</span>
│   │   ├── mixin.less           <span class="token comment">// 样式mixin</span>
│   │   └── var.less             <span class="token comment">// 样式变量</span>
│   └── utils                    <span class="token comment">// 工具函数</span>
└── vue.config.js                <span class="token comment">// 构建脚本</span>
</code></pre></div><h2 id="如何编写组件"><a href="#如何编写组件" class="header-anchor">#</a> 如何编写组件</h2> <p>Step 1：在<code>packages</code>目录下新建一个组件文件夹, 里面再新建index.js和xxx.vue文件</p> <p>index.js负责组件暴露</p> <div class="language-diff extra-class"><pre class="language-diff"><code>├── packages
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   └── test
</span><span class="token prefix inserted">+</span><span class="token line">     ├── index.js
</span><span class="token prefix inserted">+</span><span class="token line">     └── test.vue
</span></span></code></pre></div><p>以上操作可以使用脚本一键生成</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">npm</span> run create <span class="token parameter variable">--name</span> <span class="token builtin class-name">test</span>
</code></pre></div><p>Step 2：在<code>src/index.js</code>引入组件并在<code>components</code>数组内声明</p> <div class="language-diff extra-class"><pre class="language-diff"><code>// src/index.js

<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import Test from '../packages/test';
</span></span>
const components = { 
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  Test,
</span></span>}
</code></pre></div><p>声明在 <code>components</code>内的组件会在项目加载组件库插件时自动注册，并且可以通过传入自定义配置<code>opts</code>覆盖组件的默认行为</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>install<span class="token punctuation">.</span>installed<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>components<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> component <span class="token operator">=</span> opts<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">?</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> components<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> opts<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">:</span> components<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>components<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> component<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$defaultOpts <span class="token operator">=</span> opts<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Step 3：最后导出install函数, 全量导入组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token constant">API</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">version</span><span class="token operator">:</span> pkg<span class="token punctuation">.</span>version<span class="token punctuation">,</span>
  install<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token constant">API</span>
</code></pre></div><p>并提供按需加载功能</p> <div class="language-diff extra-class"><pre class="language-diff"><code>export {
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  Test,
</span></span>}
</code></pre></div><h2 id="提交规范"><a href="#提交规范" class="header-anchor">#</a> 提交规范</h2> <p>如果 <code>git commit</code> 的描述信息精准，在后期维护和 Bug 处理时会变得有据可查，项目开发周期内还可以根据规范的提交信息快速生成开发日志，从而方便我们追踪项目和把控进度。</p> <p>参照社区最受认可 Angular 团队提交规范:</p> <table><thead><tr><th>值</th> <th>描述</th></tr></thead> <tbody><tr><td>feat</td> <td>新增一个功能</td></tr> <tr><td>fix</td> <td>修复一个bug</td></tr> <tr><td>docs</td> <td>文档变更</td></tr> <tr><td>style</td> <td>代码格式（不影响功能，例如入空格，分号等格式修正）</td></tr> <tr><td>refactor</td> <td>代码重构</td></tr> <tr><td>perf</td> <td>性能优化</td></tr> <tr><td>build</td> <td>变更依赖</td></tr> <tr><td>chore</td> <td>变更构建流程或辅助工具</td></tr> <tr><td>revert</td> <td>代码回退</td></tr></tbody></table> <h2 id="版本管理"><a href="#版本管理" class="header-anchor">#</a> 版本管理</h2> <p>版本格式：主版本号.次版本号.修订号，版本号递增规则如下：</p> <ul><li>主版本号(major)：当你做了<strong>不兼容的 API 修改</strong>，</li> <li>次版本号(minor)：当你做了<strong>向下兼容的功能性新增</strong>，可以理解为Feature版本，</li> <li>修订号(patch)：当你做了<strong>向下兼容的问题修正</strong>，可以理解为Bug fix版本。</li></ul> <p>先行版本号及版本编译信息可以加到“主版本号.次版本号.修订号”的后面，作为延伸。</p> <h2 id="先行版本"><a href="#先行版本" class="header-anchor">#</a> 先行版本</h2> <p>当要发布<strong>大版本</strong>或者<strong>核心的Feature</strong>时，但是又不能保证这个版本的功能 100% 正常。这个时候就需要通过发布<strong>先行版本</strong>。比较常见的先行版本包括：内测版、灰度版本了和RC版本。<a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">Semver规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>中使用alpha、beta、rc(以前叫做gama)来修饰即将要发布的版本。它们的含义是：</p> <ul><li>alpha: 内部版本</li> <li>beta: 公测版本</li> <li>rc: 即Release candiate，正式版本的候选版本</li></ul> <p>比如：1.0.0-alpha.0, 1.0.0-alpha.1, 1.0.0-beta.0, 1.0.0-rc.0, 1.0.p-rc.1 等版本。alpha, beta, rc后需要带上次数信息。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/ds-ui/assets/js/app.0c7c3d88.js" defer></script><script src="/ds-ui/assets/js/2.3c2e6582.js" defer></script><script src="/ds-ui/assets/js/7.f1e2ad01.js" defer></script>
  </body>
</html>
